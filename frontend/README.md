# Система мониторинга состояния плода

## Описание проекта

Фронтенд-приложение для системы интеллектуального мониторинга и прогнозирования состояния плода. Разработано для хакатона "Лидеры Цифровой Трансформации 2025" (Задача 3) командой №32 "Дядя Бао".

## Технический стек

- **React** - фреймворк для построения пользовательского интерфейса
- **Redux Toolkit** - управление состоянием приложения
- **React Router** - навигация между страницами
- **Tailwind CSS** - стилизация компонентов
- **Recharts** - построение графиков и диаграмм
- **Vite** - сборка и разработка

## Архитектура приложения

### Структура проекта

```
src/
├── components/         # React компоненты
├── pages/              # Страницы приложения
├── store/              # Redux store и slices
├── asyncActions/       # Асинхронные действия Redux
├── hooks/              # Кастомные React хуки
├── imports/            # Конфигурационные файлы
└── main.jsx            # Точка входа
```

### Основные компоненты

#### Компоненты интерфейса
- **Layout** - основной layout приложения с Sidebar и Header
- **Header** - шапка приложения с информацией о пользователе
- **Sidebar** - боковая панель навигации
- **CaseSelector** - выбор пациента и исследования
- **ModeSelector** - переключатель режимов работы
- **PatientCard** - карточка пациента с исследованиями
- **RealtimeLineChart** - компонент графиков для временных рядов

#### Модальные окна
- **CreateCaseModal** - создание нового исследования
- **CreatePatientModal** - добавление нового пациента

#### Страницы
- **Home** - главная страница с информацией о системе
- **Dashboard** - система мониторинга с графиками
- **Patients** - управление пациентами
- **Login** - страница входа
- **Register** - страница регистрации
- **About** - информация о команде и проекте

### Управление состоянием

#### Redux Slices
- **appSlice** - общее состояние приложения, аутентификация
- **patientSlice** - управление пациентами
- **caseSlice** - управление медицинскими исследованиями
- **streamSlice** - потоковые данные и режимы работы

#### Асинхронные действия
- **apiClient** - универсальный клиент для API запросов
- **loginUser/registerUser** - аутентификация пользователей
- **patients/cases** - работа с пациентами и исследованиями
- **stream** - управление потоковыми данными и симуляцией

## Функциональность

### Аутентификация и авторизация
- Регистрация новых пользователей
- Вход в систему с запоминанием сессии
- Защищенные маршруты
- Автоматический выход при истечении сессии

### Управление пациентами
- Создание и просмотр пациентов
- Поиск и сортировка списка пациентов
- Расчет возраста пациента из даты рождения

### Медицинские исследования
- Создание новых исследований для пациентов
- Просмотр истории исследований
- Два режима работы: запись и просмотр

### Мониторинг в реальном времени
- Отображение графиков ЧСС плода
- Мониторинг маточной активности
- Расчет вероятности осложнений
- Система алертов при превышении пороговых значений

### Режимы работы
- **Режим записи** - запись новых данных в исследование
- **Режим просмотра** - анализ сохраненных данных
- Защита от потери несохраненных данных

## API интеграция

### Конечные точки
- Аутентификация (`/api/auth`)
- Пациенты (`/api/patients`) 
- Исследования (`/api/cases`)
- Потоковые данные (`/api/stream`)
- Предсказания (`/api/predictions`)
- Симуляция (`/api/sim`)

### Особенности реализации
- Универсальный API клиент с обработкой ошибок
- Автоматическое обновление токенов авторизации
- Поддержка прерывания запросов
- Кэширование данных на клиенте

## Безопасность

- Валидация форм на клиенте
- Защита маршрутов для неавторизованных пользователей
- Хранение токенов в localStorage/sessionStorage
- Очистка чувствительных данных при выходе

## Разработка и сборка

### Установка зависимостей
```bash
npm install
```

### Запуск в режиме разработки
```bash
npm run dev
```

### Сборка для production
```bash
npm run build
```

### Предпросмотр сборки
```bash
npm run preview
```

## Деплой через Docker

### Сборка Docker образа

```bash
# Сборка с указанием BACKEND_URL
docker build --build-arg BACKEND_URL=http://your-backend-url:port -t fetal-monitoring-frontend .

# Запуск контейнера
docker run -p 5173:5173 fetal-monitoring-frontend
```